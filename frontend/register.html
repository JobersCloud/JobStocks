<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - Gestión de Stocks</title>
    <link rel="stylesheet" href="css/styles.css">
    <script>
        // Cargar tema guardado inmediatamente para evitar flash
        (function() {
            const theme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', theme);
            const colorTheme = localStorage.getItem('colorTheme') || 'rubi';
            document.documentElement.setAttribute('data-color-theme', colorTheme);
            // Crear favicon desde localStorage (sin link estático para evitar flash)
            const faviconUrl = localStorage.getItem('faviconUrl');
            if (faviconUrl) {
                const link = document.createElement('link');
                link.rel = 'icon';
                link.href = faviconUrl;
                document.head.appendChild(link);
            }
        })();
    </script>
</head>
<body>
    <!-- Selector de idioma fijo -->
    <div class="lang-selector-fixed">
        <select id="lang-selector" class="lang-selector" onchange="I18n.setLanguage(this.value)">
            <option value="es">ES</option>
            <option value="en">EN</option>
            <option value="fr">FR</option>
        </select>
    </div>

    <div class="login-wrapper">
        <div class="login-sidebar">
            <div class="sidebar-content">
                <img id="sidebar-logo" src="assets/logojobers.png" alt="Logo" class="sidebar-logo">
                <h2 data-i18n="header.title">Gestión de Stocks</h2>
                <p><span data-i18n="header.subtitle">Sistema de consulta de inventario en tiempo real</span></p>
            </div>
        </div>

        <div class="login-container">
            <div class="login-box">
                <div class="login-header">
                    <img id="mobile-logo" src="assets/logojobers.png" alt="Logo" class="mobile-logo">
                    <script>
                        // Cargar logo desde localStorage inmediatamente para evitar flash
                        (function() {
                            const logoUrl = localStorage.getItem('logoUrl');
                            if (logoUrl) {
                                document.getElementById('sidebar-logo').src = logoUrl;
                                document.getElementById('mobile-logo').src = logoUrl;
                            }
                        })();
                    </script>
                    <h1 data-i18n="auth.registerTitle">Crear Cuenta</h1>
                    <p class="login-subtitle" data-i18n="auth.registerSubtitle">Completa tus datos para registrarte</p>
                </div>

                <div id="alert-container"></div>

                <form class="login-form" id="register-form">
                    <div class="form-group">
                        <label for="full_name" data-i18n="auth.fullName">Nombre Completo</label>
                        <input
                            type="text"
                            id="full_name"
                            name="full_name"
                            data-i18n-placeholder="authPlaceholders.fullName"
                            placeholder="Tu nombre completo"
                            required
                        >
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="username" data-i18n="auth.username">Usuario</label>
                            <input
                                type="text"
                                id="username"
                                name="username"
                                data-i18n-placeholder="authPlaceholders.usernameRegister"
                                placeholder="Nombre de usuario"
                                required
                                autocomplete="username"
                            >
                        </div>

                        <div class="form-group">
                            <label for="pais" data-i18n="auth.country">País</label>
                            <select id="pais" name="pais" required>
                                <option value="" data-i18n="authPlaceholders.selectCountry">Selecciona...</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email" data-i18n="auth.email">Email</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            data-i18n-placeholder="authPlaceholders.email"
                            placeholder="tu@email.com"
                            required
                            autocomplete="email"
                        >
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="password" data-i18n="auth.password">Contraseña</label>
                            <input
                                type="password"
                                id="password"
                                name="password"
                                data-i18n-placeholder="authPlaceholders.passwordRegister"
                                placeholder="Mínimo 6 caracteres"
                                required
                                minlength="6"
                                autocomplete="new-password"
                            >
                        </div>

                        <div class="form-group">
                            <label for="password_confirm" data-i18n="auth.passwordConfirm">Confirmar</label>
                            <input
                                type="password"
                                id="password_confirm"
                                name="password_confirm"
                                data-i18n-placeholder="authPlaceholders.passwordConfirm"
                                placeholder="Repite la contraseña"
                                required
                                minlength="6"
                                autocomplete="new-password"
                            >
                        </div>
                    </div>

                    <button type="submit" class="btn-login" id="btn-register" data-i18n="auth.registerButton">
                        Crear Cuenta
                    </button>
                </form>

                <div class="login-link">
                    <span data-i18n="auth.hasAccount">¿Ya tienes cuenta?</span> <a href="/login" data-i18n="auth.goToLogin">Iniciar sesión</a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/i18n/i18n.js"></script>
    <script src="js/register.js"></script>
</body>
</html>
