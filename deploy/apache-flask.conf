# ============================================
# Configuraci√≥n Apache para Flask (Reverse Proxy)
# Copiar a: /etc/apache2/sites-available/apirest.conf
# ============================================

<VirtualHost *:80>
    ServerName tu-dominio.com
    ServerAdmin admin@tu-dominio.com

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/apirest-error.log
    CustomLog ${APACHE_LOG_DIR}/apirest-access.log combined

    # Proxy hacia Gunicorn (Flask)
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:5000/
    ProxyPassReverse / http://127.0.0.1:5000/

    # Headers de seguridad
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
</VirtualHost>

# Para HTTPS (recomendado), usar certbot:
# sudo certbot --apache -d tu-dominio.com
